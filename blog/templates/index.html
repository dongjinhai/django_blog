<!DOCTYPE html>
{% load staticfiles %}
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="{%static '../static/img/title.ico' %}">
    <title>okSolasBolgsMainPage</title>
    <!-- load stylesheets -->
    <link rel="stylesheet" href="{%static 'http://fonts.useso.com/css?family=Open+Sans:300,400' %}">
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="{%static '../static/css/bootstrap.min.css' %}">
    <!-- Bootstrap style -->
    <link rel="stylesheet" href="{%static '../static/css/magnific-popup.css' %}">
    <!-- Magnific pop up style -->
    <link rel="stylesheet" href="{%static '../static/css/templatemo-style.css' %}"><!-- Templatemo style -->
    <link rel="stylesheet" href="{%static 'css/pygments/github.css' %}">
    <style>
        .jum {
            padding-bottom: 10px;
            padding-left: 15px;
            padding-right: 15px;
            padding-top: 15px;
        }
        .messagefont{
            font-family: Consolas;
            font-size: large;
            color: #3c3f5d;
            padding-top: 15px;
            padding-right: 15px;
            padding-left: 15px;
            padding-bottom: 15px;
        }
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<!--模态框登录注册-->
<div style="width: 100%">
    <div class="bd-example" style="float:left; width: 5%;">
        <button type="button" class="btn btn-primary-outline" data-toggle="modal"
                data-target="#exampleModal" data-whatever="@getbootstrap" href="/regist">注册
        </button>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title" id="exampleModalLabel" align="center">欢迎注册</h4>
                    </div>
                    <div class="modal-body">
                        <form method="post" action="/regist/" enctype="multipart/form-data">
                            {% csrf_token %}
                            {{uf.as_p}}
                            <input type="submit" value="注册"/>
                        </form>
                    </div>
                    <!--<div class="modal-footer">-->
                    <!--&lt;!&ndash;<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>&ndash;&gt;-->
                    <!--&lt;!&ndash;<button type="button" class="btn btn-primary">Send message</button>&ndash;&gt;-->
                    <!--</div>-->
                </div>
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-success-outline" data-toggle="modal"
            data-target=".bd-example-modal-sm">登录
    </button>
    <div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="mySmallModalLabel" align="center">欢迎登录</h4>
                </div>
                <div class="modal-body">
                    <form method="post" action="/login/" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{uf.as_p}}
                        <input type="submit" value="登录"/>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div style="float:right; width: 5%;">
        <button class="btn btn-primary-outline" onclick=window.location.href='../logout'>登出</button>
    </div>
</div>
<div class="container">
    <div class="tm-sidebar">
        <img src="{%static '../static/img/menu-top.jpg' %}" alt="Menu top image" class="img-fluid tm-sidebar-image">
        <nav class="tm-main-nav" style="background-color: #eceeef;"><!--可以改背景色-->
            <ul>
                <li class="tm-nav-item"><a href="#uppage" class="tm-nav-item-link">顶页</a></li>
                <li class="tm-nav-item"><a href="#article" class="tm-nav-item-link">文章</a></li>
                <li class="tm-nav-item"><a href="#message" class="tm-nav-item-link">留言板</a></li>
                <li class="tm-nav-item"><a href="#lmessage" class="tm-nav-item-link">留言</a></li>
            </ul>
        </nav>
    </div>

    <div class="tm-main-content">

        <section id="uppage" class="tm-content-box tm-banner margin-b-10">
            <div class="tm-banner-inner">
                <h3 class="tm-banner-title">Hello！</h3>
                <p class="tm-banner-text" style="color: red">
                    {% if 'user' in request.session and request.session.user != None%}
                    {{request.session.user}}
                    {% else %}
                    {{request.user}}
                    {% endif %}</p>
            </div>
        </section>

        <section>
            <div class="tm-content-box flex-2-col">

                <div class="pad flex-item tm-team-description-container">
                    <h2 class="tm-section-title">虞美人·李煜</h2>
                    <p class="tm-section-description">
                        春花秋月何时了，往事知多少。<br>
                        小楼昨夜又东风，故国不堪回首月明中。<br>
                        <br>
                        雕阑玉砌应犹在，只是朱颜改。<br>
                        问君能有几多愁，恰是一江春水向东流。</p>
                    <p class="tm-section-description"></p>
                </div>
                <div class="flex-item">
                    <img src="{%static '../static/img/about.jpg' %}" alt="">
                </div>
            </div>
            <div id="article" class="container">
                <a href="{% url 'blog:detail' 1 %}">查看全部文章-></a>
                {% for article in article_list %}
                <div class="row clearfix">
                    <div class="col-md-12 column">
                        <div class="jumbotron jum">
                            <h4>
                                {{article.title|safe}}
                            </h4>
                            <p align="right">
                                <a href="{% url 'blog:detail' article.id %}">详细</a>
                            </p>
                            <p>
                            <h6 align="right">{{article.date}}</h6>
                            </p>
                        </div>
                    </div>
                </div>
                {% endfor %}
                <a href="{% url 'blog:detail' 1 %}" style="margin-left: 83%">查看全部文章-></a>
            </div>
        </section>

        <!-- slider -->
        <section id="message">
            <div class="tm-content-box">
                <ul class="boxes gallery-container">
                    <!--<li class="box box-bg">-->
                        <!--<h2 class="tm-section-title tm-section-title-box tm-box-bg-title messagefont">雕阑玉砌应犹在只是朱颜改问君能有几多愁恰是</h2>-->
                        <!--<img src="{%static 'img/white-bg.jpg' %}" alt="Image" class="img-fluid">-->
                    <!--</li>-->

                    {% for message in messages %}
                    <a class="box box-bg">
                        <h2 class="tm-section-title tm-section-title-box tm-box-bg-title messagefont">{{message.content}}</h2>
                        {% if message.id|divisibleby:"2" %}
                        <img src="{%static 'img/white-bg.jpg' %}" alt="Image" class="img-fluid"></a>
                        {% else %}
                        <img src="{%static 'img/idea-04.jpg' %}" alt="Image" class="img-fluid"></a>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul>

            </div>
        </section>

        <div class="copyrights">Collect from <a href="http://www.cssmoban.com/">企业网站模板</a></div>

        <section class="tm-content-box">
            <div id="lmessage" class="pad">
                <h2 class="tm-section-title">留个言</h2>
                <form action="/message/" method="get" class="contact-form">
                    <div class="form-group">
                        <input type="text" name="content" class="form-control"
                               placeholder="50字之内" required/>
                    </div>
                    <button type="submit" style="margin-left: 87%" class="btn btn-secondary-outline">Submit</button>

                </form>
            </div>
            <img src="{%static '../static/img/53.jpg' %}" alt="Contact image" class="img-fluid">

        </section>

        <footer class="tm-footer">
            网页footer
        </footer>
    </div>

</div>

<!-- load JS files -->

<script src="{%static '../static/js/jquery-1.11.3.min.js' %}"></script>
<!-- jQuery (https://jquery.com/download/) -->
<script src="{%static '../static/js/bootstrap.min.js' %}"></script>
<!-- Bootstrap (http://v4-alpha.getbootstrap.com/getting-started/download/) -->
<script src="{%static '../static/js/jquery.magnific-popup.min.js' %}"></script>
<!-- Magnific pop-up (http://dimsemenov.com/plugins/magnific-popup/) -->
<script src="{%static '../static/js/jquery.singlePageNav.min.js' %}"></script>
<!-- Single Page Nav (https://github.com/ChrisWojcik/single-page-nav) -->
<script src="{%static '../static/js/jquery.touchSwipe.min.js' %}"></script>
<!-- https://github.com/mattbryson/TouchSwipe-Jquery-Plugin -->

<!-- Templatemo scripts -->
<script>

    $(document).ready(function () {

        // Single page nav
        if ($(window).width() <= 1139) {
            $('.tm-main-nav').singlePageNav({
                'currentClass': "active",
                offset: 100
            });
        } else {
            $('.tm-main-nav').singlePageNav({
                'currentClass': "active",
                offset: 80
            });
        }

        // Handle nav offset upon window resize
        $(window).resize(function () {
            if ($(window).width() <= 1139) {
                $('.tm-main-nav').singlePageNav({
                    'currentClass': "active",
                    offset: 100
                });
            } else {
                $('.tm-main-nav').singlePageNav({
                    'currentClass': "active",
                    offset: 80
                });
            }
        });

        // Magnific pop up
        $('.gallery-container').magnificPopup({
            delegate: 'a', // child items selector, by clicking on it popup will open
            type: 'image',
            gallery: {enabled: true}
            // other options
        });

        $('.carousel').carousel({
            interval: 3000
        })

        // Enable carousel swiping (http://lazcreative.com/blog/adding-swipe-support-to-bootstrap-carousel-3-0/)
        $(".carousel-inner").swipe({
            //Generic swipe handler for all directions
            swipeLeft: function (event, direction, distance, duration, fingerCount) {
                $(this).parent().carousel('next');
            },
            swipeRight: function () {
                $(this).parent().carousel('prev');
            }
        });

    });

</script>

</body>
</html>